<!--component html goes here -->
<admin-header></admin-header>
<!-- include aside here -->
<sidebar></sidebar>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      My transactions
    </h1>

  </section>
  <!-- get count of categories, sub categories, questionnaires, pages etc -->


  <!-- Main content -->
  <section class="content">
    
    <!-- Main row -->
    <div class="row">
      <!-- Left col -->
      <section class="content">
        <h2>
          Transactions
        </h2>
        <div class="col-lg-12">
            <table class="table" style="background:#fff"
                  [mfData]="data" #mf="mfDataTable"
                  [mfRowsOnPage]="5"
                  [(mfSortBy)]="sortBy"
                  [(mfSortOrder)]="sortOrder"
                  [mfActivePage]="activePage"
                  (mfOnPageChange)="onPageChange($event)"
                  (mfSortOrderChange)="sortdata(sortBy,$event)"
          >
          <thead>
                    <tr>
                        <th style="width: 20%">
                            <mfDefaultSorter by="type">Type</mfDefaultSorter>
                        </th>
                        <th style="width: 10%">
                            <mfDefaultSorter by="first_name">Sender/ receiver Name</mfDefaultSorter>
                        </th>
                        <th style="width: 20%">
                            <mfDefaultSorter by="address">Address</mfDefaultSorter>
                        </th>
                        <th style="width: 20%">
                            <mfDefaultSorter by="amount">Amount</mfDefaultSorter>
                        </th>
                        <th style="width: 20%">
                            <mfDefaultSorter by="payment_dated">Created At</mfDefaultSorter>
                        </th>
                        <th style="width: 10%">
                            Action
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of mf.data; let ndx = index">
                        <td *ngIf="(item.type=='1')">Send</ td>
                        <td *ngIf="(item.type=='2')">Received</td>
                        <td *ngIf="(item.type=='0')">NA</td> 
                        <td *ngIf="(item.first_name) != ''" >{{item.first_name}} {{item.last_name}}</td>
                        <td *ngIf="(item.first_name) == ''">NA</td>
                        <td><a target="_blank" href="https://live.blockcypher.com/bcy/address/{{item.address}}" >{{item.address}}</a></td>
                        <td>{{item.amount | number:'1.1-5' }} AT$</td>
                        <td>{{item.payment_dated }}</td>
                        <td><a target="_blank" href="https://live.blockcypher.com/bcy/tx/{{item.tx_hash}}" class="btn btn-info">View</a></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="6">
                            <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                        </td>
                    </tr>
                </tfoot>
            </table>

        </div>
        

       </section>
      <!-- /.Left col -->
      <!-- right col (We are only adding the ID to make the widgets sortable)-->
      <section> </section>
      <!-- right col -->
    </div>
    <!-- /.row (main row) -->

  </section>
  <!-- /.content -->
</div>
